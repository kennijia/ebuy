# 量化策略逻辑详解

## 1. 这是一个由于量化模型吗？
**答案：是的，这是一个标准的“规则型量化择时模型”。**

虽然它看起来没有复杂的数学公式，但它完全符合量化交易的核心定义：
1.  **数据驱动**：输入的是历史净值、实时估值、持仓成本。
2.  **规则明确**：买卖决策完全由代码逻辑（If-Then）决定，而不是凭感觉。
    *   *“RSI > 75 卖出”* 是一条铁律，不随心情改变。
3.  **去情绪化**：模型会自动在市场恐慌（大跌且低RSI）时提示买入，在贪婪（高RSI）时提示卖出。

---

## 2. 你的核心买卖逻辑解析

目前的模型是一个 **“RSI均值回归 + 趋势跟踪”** 的混合策略。

### (1) 核心指标：RSI (相对强弱指标)
模型的核心“温度计”是 RSI (14日)。
*   **水位 0-100**: 衡量资金的买卖热度。
*   **RSI < 30-40 (冰点)**: 市场过度悲观，通常是**底部反弹**的前兆 -> **买入信号**。
*   **RSI > 70-75 (沸点)**: 市场过度亢奋，随时可能回调 -> **卖出信号**。

### (2) 买入逻辑 (抄底与布局)
系统会计算一个 `Score` (综合评分)，评分越高，建议买的越多。
*   **触发条件**: 如果 RSI 较低（<45），且没有破位下跌，开始计分。
*   **日内增强**:
    *   如果 **今日大跌 (-1.5%)** 且 **位置很低 (RSI < 40)** -> 判定为“黄金坑” -> **评分+1**。
*   **仓位建议**:
    *   3分 -> **积极 (2-3份)**: 确信度高，重拳出击。
    *   2分 -> **稳健 (1份)**: 标准定投。
    *   1分 -> **轻仓 (0.5份)**: 试探性买入。

### (3) 卖出逻辑 (止盈与风控)
这部分逻辑我们在 `monitor.py` 里做了重点强化，结合了你的持仓成本。
*   **止盈 (Profit Taking)**:
    *   条件：`盈利 > 10%` 且 `RSI > 70`。
    *   逻辑：赚够了且市场太热，落袋为安。
*   **避险 (Risk Off)**:
    *   条件：`RSI > 75` (严重超买) 或 `高位震荡`。
    *   逻辑：防止坐过山车。
*   **深跌摊薄 (DCA)**:
    *   条件：`亏损 > 10%` 且出现 `补仓机会` 信号。
    *   逻辑：在亏损时，利用低位信号拉低持仓均价，以便反弹时更快解套。

## 3. 待优化方向
目前的模模型主要基于“反转”逻辑（跌多了买，涨多了卖），在震荡市表现很好。
**不足之处**:
*   在**单边大牛市**中，RSI 可能会长期钝化在 80 以上，导致过早卖出（踏空）。
*   在**崩盘式下跌**中，RSI 低位可能会持续很久（抄底抄在半山腰）。
**后续升级**: 可以加入 **MACD** 或 **均线 (MA20)** 来判断大趋势，趋势坏了坚决不抄底。